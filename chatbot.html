<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Hey Babyy 💬</title>
  <style>
   body {
  font-family: 'Segoe UI', sans-serif;
  background-color: #ffe6f0;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  height: 100vh;
  margin: 0;
  position: relative;
  overflow: hidden;
}

body::before {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  background-image: url("m3.jpg"); /* Local file path */
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  background-attachment: fixed;
  filter: blur(8px);
  z-index: -1;
  opacity: 0.95;
}

    .chatbox {
      width: 90%;
      max-width: 400px;
      background: white;
      border-radius: 16px;
      padding: 16px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
      display: flex;
      flex-direction: column;
      gap: 10px;
      overflow-y: auto;
      max-height: 70vh;
    }

    .message {
      padding: 10px 14px;
      border-radius: 20px;
      max-width: 80%;
      word-wrap: break-word;
    }

    .bot {
      align-self: flex-start;
      background-color: #ffcde0;
    }

    .user {
      align-self: flex-end;
      background-color: #c8f7dc;
    }

    .input-box {
      margin-top: 12px;
      display: flex;
      width: 90%;
      max-width: 400px;
    }

    input {
      flex-grow: 1;
      padding: 10px;
      border-radius: 20px;
      border: none;
      outline: none;
    }

    button {
      background-color: #ff4d88;
      color: white;
      border: none;
      padding: 0 16px;
      margin-left: 8px;
      border-radius: 20px;
      cursor: pointer;
    }

    a {
      color: #ff4d88;
      text-decoration: underline;
    }

    .typing {
      font-style: italic;
      font-size: 0.9em;
      color: gray;
      align-self: flex-start;
    }
  </style>
</head>
<body>

  <div class="chatbox" id="chatbox">
    <div class="message bot">Hey youu 😚</div>
  </div>

  <div class="input-box">
    <input type="text" id="userInput" placeholder="Type something..." />
    <button onclick="sendMessage()">Send</button>
  </div>

  <script>
    const chatbox = document.getElementById("chatbox");
    const input = document.getElementById("userInput");

    let stage = 0;

    function sendMessage() {
      const userText = input.value.trim();
      if (!userText) return;

      addMessage(userText, "user");
      input.value = "";

      setTimeout(() => {
        botReply(userText.toLowerCase());
      }, 600);
    }

    function addMessage(text, sender) {
      const msg = document.createElement("div");
      msg.className = `message ${sender}`;
      msg.innerHTML = text;
      chatbox.appendChild(msg);
      chatbox.scrollTop = chatbox.scrollHeight;
    }

    function showTyping(callback, delay = 1200) {
      const typing = document.createElement("div");
      typing.className = "typing";
      typing.id = "typing";
      typing.innerText = "Nexus is typing...";
      chatbox.appendChild(typing);
      chatbox.scrollTop = chatbox.scrollHeight;

      setTimeout(() => {
        typing.remove();
        callback();
      }, delay);
    }
function botReply(userText) {
  const vagueAnswers = ["idk", "i don't know", "maybe", "not sure", "umm", "uhh", "dunno"];
  const correctAnswers = ["girlfriend", "girlfriend's day", "gf day", "for me"];

  if (stage === 0) {
    showTyping(() => {
      addMessage("Sooo… do you know what day it is today? 👀💖", "bot");
      stage++;
    });
  } else if (stage === 1) {
    if (vagueAnswers.some(ans => userText.includes(ans))) {
      showTyping(() => {
        addMessage("Wanna try guessing? 😏 I’ll give you a hint… it’s about *you* 💗", "bot");
      });
    } else if (correctAnswers.some(ans => userText.includes(ans))) {
      showTyping(() => {
        addMessage("yessss!! 🥺 it’s Girlfriend’s Day!!", "bot");
        setTimeout(() => {
          showTyping(() => {
            addMessage("I’ve been thinking about how to make it special…", "bot");
            setTimeout(() => {
              showTyping(() => {
                addMessage("I know I’ve been a lil busy with college and stuff lately...", "bot");
                setTimeout(() => {
                  showTyping(() => {
                    addMessage("but I wanted to make something just for you 🥹💖", "bot");
                    setTimeout(() => {
                      showTyping(() => {
                        addMessage("Sooo… are you ready for it? ✨", "bot");
                        stage++;
                      });
                    }, 1200);
                  });
                }, 1400);
              });
            }, 1400);
          });
        }, 1200);
      });
    } else {
      showTyping(() => {
        addMessage("Hmm not quite 😗 Wanna try again?", "bot");
      });
    }
  } else if (stage === 2) {
    if (userText.includes("yes") || userText.includes("ready") || userText.includes("okay")) {
      showTyping(() => {
        addMessage("okay baby… click this when your heart is ready 💌", "bot");
        showTyping(() => {
          addMessage("👉 <a href='https://nexusxvalor.github.io/part2-/' target='_blank'>your-surprise-site.com</a>", "bot");
        }, 1000);
      });
      stage++;
    } else {
      showTyping(() => {
        addMessage("Take your time... I’ll be right here 🥰", "bot");
      });
    }
  }
}

  </script>

</body>
</html>
